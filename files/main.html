<!DOCTYPE html>

<head>

	<title>Graphics Editor</title>

	<!-- meta tags -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- reference to bootstrap files -->
	<link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css"></script>

	<!-- reference to fabricjs scripts -->
	<script src="../fabric/dist/fabric.min.js" type="text/javascript"></script>

	<!-- reference to my own scripts -->
	<script src="assets/saveCanvas.js" type="text/javascript"></script>
	<script src="assets/drawObjects.js" type="text/javascript"></script>
	<script src="assets/changeCanvas.js" type="text/javascript"></script>

	<script type="text/javascript">

		var canvas;
		var canvasState=new Array();
		var xmlhttp;
		var imageName;
		/**
		 * this function creates a fabric canvas object
		 * height is set to 500 and width is set to 800
		 * and an xmlhttp request object is created for ajax
		 */
		function load() {
			canvas = new fabric.Canvas('myCanvas');
			//drawCanvasRect();
			/* ajax setup */
			if(window.XMLHttpRequest) {
				xmlhttp = new XMLHttpRequest(); //for IE7+, Firefox, Chrome, Opera, Safari
			} else {
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); //for IE6, IE5
			}
			imageName="";
		}
		
	</script>
	
	<style type="text/css">
		#header {
			color:black;
			border-bottom:1px solid black;
		}
		#menu-bar {
			border-right:1px solid black;
		}
		.btn {
			margin-top:10px;
			width:160px;
		}
		#footer {
			border-top:1px solid black;
		}
	</style>
</head>
<body onload=load()>
	<div class="container-fluid" id="header">
		<h1 align="center">Graphics Editor</h1>
	</div>
	<div class="container-fluid">
		<div class="row">
				<div id="menu-bar" class="col-md-2">
					<center>
					<div class="btn-group">
						<button type="button" class="btn btn-primary btn-lg dropdown-toggle" data-toggle="dropdown">Draw Shape <span class="caret"></button>
						<ul class="dropdown-menu" role="menu">
							<li onClick="drawCircle()"><a href="#">Circle</a></li>
							<li onClick="drawRect()"><a href="#">Rectangle</a></li>
							<li onClick="drawArrow()"><a href="#">Arrow</a></li>
							<li onClick="drawDatabase()"><a href="#">Database</a></li>
						</ul>
					</div>
					<br><br>
					<div>
						<button id="pencilButton" type="button" class="btn btn-primary btn-lg" onclick="freeDrawing()">Pencil</button>
					</div>
					<div style="display:none" id="addTextModal" class="modal fade center-block" style="width:400px; margin-top:100px" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-content">
					<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true"> &times; </button>
					<h4 class="modal-title" id="myModalLabel">Adding text</h4>
					</div>
					<div class="modal-body">
					<input type="text" id="textEntered" class="form-control" placeholder="Add your text here">
					<br>
					<button type="button" class="btn btn-danger" data-dismiss="modal">Close </button> 
					<button type="button" class="btn btn-primary" onClick="addText()">Add</button>
					</div>
					</div>
					</div>
					<br><br><br><br>
					<br><br><br><br>
					<br><br>
					<div>
						<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#addTextModal">Add Text</button>
					</div>
					<br>
					<div>
						<button type="button" class="btn btn-primary btn-lg" onclick = "deleteObject()">Delete</button>
					</div>
					<br>
					<br>
					</center>
				</div>
			<div id="drawing_area" class="col-md-10">
				<canvas id="myCanvas" height="510" width="1100">
			</div>
			
		</div>
		<div class="row" id="footer">
			<div class="col-md-2 col-md-offset-1">
				<button type="button" class="btn btn-warning btn-lg" onclick="openImage()">Open Image</button>
			</div>
			<div class="col-md-2 col-md-offset-1">
				<button type="button" class="btn btn-danger btn-lg" onclick="clearAll()">Clear</button>
			</div>
			<div class="col-md-2 col-md-offset-1">
				<button type="button" id="downloadImage" class="btn btn-success btn-lg" onclick="downloadImage()">Download PNG</button>
			</div>
			<div class="col-md-2 col-md-offset-1">
				<button type="button" class="btn btn-success btn-lg" onClick="saveImage()">Save</button>
			</div>
		</div>
	</div>
		
		
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="../bootstrap/jquery-2.1.1.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="../bootstrap/js/bootstrap.min.js"></script>
</body>
</html>